<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.gm.modules.market.dao.GmMarketOnlineDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="com.gm.modules.market.entity.GmMarketOnlineEntity" id="gmMarketOnlineMap">
        <result property="id" column="ID"/>
        <result property="userId" column="USER_ID"/>
        <result property="goodsType" column="GOODS_TYPE"/>
        <result property="goodsId" column="GOODS_ID"/>
        <result property="status" column="STATUS"/>
        <result property="sellPrice" column="SELL_PRICE"/>
        <result property="createTime" column="CREATE_TIME"/>
        <result property="createTimeTs" column="CREATE_TIME_TS"/>
        <result property="updateTime" column="UPDATE_TIME"/>
        <result property="updateTimeTs" column="UPDATE_TIME_TS"/>
    </resultMap>

    <select id="queryUserOnMarketHero" resultType="com.gm.modules.user.entity.UserHeroEntity">
SELECT
	b.*
FROM
	gm_market_online a
	LEFT JOIN gm_user_hero b ON a.GOODS_ID = b.USER_HERO_ID
WHERE
	a.USER_ID = #{userId}
	AND a.STATUS = 0
    </select>

    <select id="queryUserOnMarketHeroFrag" resultType="com.gm.modules.user.entity.UserHeroFragEntity">
SELECT
	b.*
FROM
	gm_market_online a
	LEFT JOIN gm_user_hero_frag b ON a.GOODS_ID = b.USER_HERO_FRAG_ID
WHERE
	a.USER_ID = #{userId}
	AND a.STATUS = 0
    </select>

    <select id="queryUserOnMarketEquipment" resultType="com.gm.modules.user.entity.UserEquipmentEntity">
SELECT
	b.*
FROM
	gm_market_online a
	LEFT JOIN gm_user_equipment b ON a.GOODS_ID = b.USER_EQUIPMENT_ID
WHERE
	a.USER_ID = #{userId}
	AND a.STATUS = 0
    </select>

    <select id="queryUserOnMarketEquipmentFrag" resultType="com.gm.modules.user.entity.UserEquipmentFragEntity">
SELECT
	b.*
FROM
	gm_market_online a
	LEFT JOIN gm_user_equipment_frag b ON a.GOODS_ID = b.USER_EQUIPMENT_FRAG_ID
WHERE
	a.USER_ID = #{userId}
	AND a.STATUS = 0
    </select>

    <select id="queryUserOnMarketExperience" resultType="com.gm.modules.user.entity.UserExperienceEntity">
SELECT
	b.*
FROM
	gm_market_online a
	LEFT JOIN gm_user_experience b ON a.GOODS_ID = b.ID
WHERE
	a.USER_ID = #{userId}
	AND a.STATUS = 0
    </select>

	<select id="pageHeroMarket" resultType="com.gm.modules.user.entity.UserHeroEntity">
		SELECT
			b.*
		FROM
			gm_market_online a
			LEFT JOIN gm_user_hero b ON a.GOODS_ID = b.USER_HERO_ID
			${ew.customSqlSegment}
	</select>

	<select id="queryUserHeroFrag" resultType="com.gm.modules.user.entity.UserHeroFragEntity">
		SELECT
		b.*
		FROM
		gm_market_online a
		LEFT JOIN gm_user_hero_frag b ON a.GOODS_ID = b.USER_HERO_FRAG_ID
		${ew.customSqlSegment}
	</select>

	<select id="queryUserEquipment" resultType="com.gm.modules.user.entity.UserEquipmentEntity">
		SELECT
		b.*
		FROM
		gm_market_online a
		LEFT JOIN gm_user_equipment b ON a.GOODS_ID = b.USER_EQUIPMENT_ID
		${ew.customSqlSegment}
	</select>

	<select id="queryUserEquipmentFrag" resultType="com.gm.modules.user.entity.UserEquipmentFragEntity">
		SELECT
		b.*
		FROM
		gm_market_online a
		LEFT JOIN gm_user_equipment_frag b ON a.GOODS_ID = b.USER_EQUIPMENT_FRAG_ID
		${ew.customSqlSegment}
	</select>

	<select id="queryUserExperience" resultType="com.gm.modules.user.entity.UserExperienceEntity">
		SELECT
		b.*
		FROM
		gm_market_online a
		LEFT JOIN gm_user_experience b ON a.GOODS_ID = b.ID
		${ew.customSqlSegment}
	</select>

</mapper>